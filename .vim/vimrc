"TODO ?
" RUST
" - configure tags generation (https://github.com/ludovicchabant/vim-gutentags/issues/206), tags generated by rust-vim plugin don't look good 
" HASKELL 
" - get usages of word under cursor don't work in language client and intero,
"   test solution of haskell-vim-now (custom script using hscope) ?
" - coloration linter (info) white on lightblue is not readable
" - delete ghc-mod (replaced by haskell-ide-engine + language client) ?
"     neoformat (why ?)
" WRITING
" - vim outliner, vim-wordy(faire trad. français)
" PHP
" - configurer tests ? bascule auto, etc.
"- php behat : debugger le plugin : show quickfix, configure base path ?
" - (si besoin) phpactor & php-refactoring-browser (cf. http://kushellig.de/neovim-php-ide/)
" GENERAL
" - file explorer : configure 'Shougo/defx.nvim' 
" - si besoin : neoformat (pas besoin pour haskell: brittany dans hid +
"   LanguageServer client)

" /!\ ------------ Conflicts resolution
let g:AutoPairsShortcutToggle = '' " Disable shortcut <M-p> (conflict with yankstack)
" Keep plugins in this order :
" - yankstack before vim-surround ( 'S' conflict in visual mode )

" Required:
call plug#begin(expand('~/.vim/bundle'))

" Add or remove your Bundles here:
Plug 'Shougo/vimproc.vim', { 'do' : 'make' }
Plug 'tpope/vim-scriptease' " vim scripts debug tool (:Verbose, ...)

"--------- File navigation
Plug 'mhinz/vim-startify' " Fancy start screen with links to recent files
" Plug 'scrooloose/nerdtree' " XXX plante nvim dans les dernières versions!! 

Plug 'dhruvasagar/vim-vinegar' "vinegar NERDTree version
" Plug 'tpope/vim-vinegar' " netrw shortcuts : - to jump from a buffer to its directory, etc.

" TODO : configure shortcuts (cf. :help dein)
if has('nvim')
  Plug 'Shougo/defx.nvim', { 'do': ':UpdateRemotePlugins' }
else
  Plug 'Shougo/defx.nvim'
  Plug 'roxma/nvim-yarp'
  Plug 'roxma/vim-hug-neovim-rpc'
endif

Plug 'junegunn/fzf', { 'dir': '~/.fzf', 'do': './install --all' } " fuzzy finder
Plug 'junegunn/fzf.vim'

"--------- Layout and style
Plug 'wesQ3/vim-windowswap' "swap windows: <leader>ww (1st time on 1st window, 2nd time on 2nd window => the two windows are then swaped)
Plug 'moll/vim-bbye' " :Bdelete and :Bwipeout quit buffers nicely without destroying windows
Plug 'vim-airline/vim-airline' " Status bar & buffers in tab bar
Plug 'edkolev/tmuxline.vim'
Plug 'vim-scripts/wombat256.vim' " Wombat Color scheme
" Plug 'rakr/vim-one' " Vim-one Color scheme
Plug 'ryanoasis/vim-devicons' " Dev fonts (icons for status bars and file explorers)
" Plug 'mmai/vim-sidemenu' " side menu XXX replaced by config/menu.vim

"--------- Text navigation
Plug 'nelstrom/vim-visual-star-search'
Plug 'vim-scripts/utl.vim' "add clickable links on urls / images
Plug 'haya14busa/incsearch.vim' " enhanced incremental searching 

"--------- Text manipulation
Plug 'brooth/far.vim' " Find and replace in multiple files
Plug 'chrisbra/NrrwRgn' " :NR focus on a selected region while making the rest inaccessible
Plug 'terryma/vim-multiple-cursors' "Like SublimeText multisection 
Plug 'maxbrunsfeld/vim-yankstack' "Navigate the history of yanks with <alt-p> and <alt-shift-p>
Plug 'mbbill/undotree' " :UndotreeToggle
Plug 'godlygeek/tabular' " :Tabularize /<delimiter> (must be before vim-markdown)
Plug 'tpope/vim-surround' "easily delete, change and add such surroundings in pairs
Plug 'mattn/emmet-vim' "Expand CSS selectors expression to HTML (ie div#page>div.logo+ul#navigation>li*5>a)
Plug 'michaeljsmith/vim-indent-object' " Text object based on indentation : ai, ii, aI, iI
Plug 'kana/vim-textobj-user' " custom text objects (required by ghci.vim)

"Git 
Plug 'vim-scripts/gitignore'
Plug 'mattn/gist-vim' "Post to gist :Gist 
Plug 'tpope/vim-fugitive' " required by gv
Plug 'junegunn/gv.vim' "commit browser :GV, :GV! (current file), :GV? (fills location list), visual mode (current lines)
" Plug 'airblade/vim-gitgutter' " Add signs on the gutter for lines modified
let g:gitgutter_max_signs=999
Plug 'sjl/splice.vim' " three way merge

"--------- General coding support
Plug 'tomtom/tcomment_vim'
Plug 'joonty/vdebug' " Debugger (:help vdebug) XXX Ne marche pas ?  
Plug 'majutsushi/tagbar' " functions and variables list XXX pb avec Php (autoupdate kindfold...)
Plug 'ludovicchabant/vim-gutentags' " generate tags for the tagbar 
Plug 'vim-scripts/IndentAnything'
Plug 'nathanaelkane/vim-indent-guides' " <leader>ig : colorize indentation
Plug 'janko-m/vim-test' " Launch tests and see reports easily
Plug 'dbeniamine/cheat.sh-vim' " interface vers cht.sh (cheatsheet)  <leader>KB sur ligne ou selection
Plug 'sheerun/vim-polyglot' " syntax highlighting, indentation for a wide collection of languages
Plug 'alvan/vim-closetag' " Close html / xml tags
Plug 'jiangmiao/auto-pairs' " deals intelligently with pairs of punctuation () [] '' {} ... (better than kana/vim-smartinput)
"Completion

" Plug 'metalelf0/supertab' " completion with tab (fork of ervandew/supertab to fix 'Invalid argument: pumvisible')

Plug 'neoclide/coc.nvim', {'branch': 'release'} " Completion / language server client ...
" Plug 'neoclide/coc.nvim', {'do': 'yarn install --frozen-lockfile'} " Completion / language server client ...

"Specific languages support not already in vim-polyglot
Plug 'LnL7/vim-nix' " nix 
Plug 'ollykel/v-vim' " V language
" Markdown
Plug 'pbrisbin/vim-mkdir' " Automatically create any non-existent directories before writing the buffer
Plug 'gabrielelana/vim-markdown' " better list indentation handling than plasticboy/vim-markdown, toggle checkboxes
Plug 'mmai/vim-markdown-wiki'
Plug 'scrooloose/vim-slumlord' " Inline previews for Plantuml sequence diagrams
" Rust
Plug 'timonv/vim-cargo', { 'for': 'rust' } " Simple vim command bindings to quickly run cargo stuff from vim
" Javascript
Plug 'heavenshell/vim-jsdoc' " Generate jsdoc code. Type :JsDoc when cursor is on 'function' keyword
Plug 'othree/yajs.vim',{'for':'javascript'} " Syntax highlighting
Plug 'gavocanov/vim-js-indent' "works well whith yajs.vim
Plug 'posva/vim-vue' " Vuejs syntax highlighting
" PHP
Plug 'alvan/vim-php-manual', {'for': 'php'} " Search for word under cursor
Plug 'Rican7/php-doc-modded', {'for': 'php'}  " Generate documentation
" Haskell
Plug 'parsonsmatt/intero-neovim'
Plug 'Twinside/vim-hoogle' " Access hoogle search 
Plug 'pbrisbin/vim-syntax-shakespeare' " Syntaxe for shakespeare templating

"--------- Terminal
Plug 'kassio/neoterm' " :T {command} => start command in opened terminal (create if not exists); :Tnew => create new terminal 

"--------- Applications
"Plug 'blindFS/vim-taskwarrior' "task manager
Plug 'hsitz/VimOrganizer'
Plug 'tpope/vim-speeddating'
Plug 'mattn/webapi-vim' " interface to web APIs
Plug 'mmai/vim-scrum-markdown'
" Plug 'mmai/wikilink'
Plug 'junegunn/goyo.vim' " writeroom like
Plug 'junegunn/limelight.vim' " to be use with Goyo: dim surrounding paragraphs
Plug 'iamcco/markdown-preview.nvim', { 'do': 'cd app & yarn install'  } " can preview Plantuml diagrams (not livedown) :MarkdownPreview / :MarkdownPreviewStop
Plug 'aklt/plantuml-syntax'    " PlantUML syntax
Plug 'scrooloose/vim-slumlord' " PlantUML ascii preview

let g:zenmode_background = "dark"
let g:zenmode_colorscheme = "desert"
" let g:zenmode_font ="Cousine 12"
let g:zenmode_font ="Cousine Nerd Font 12"
let g:zenmode_spell ="fr" "correction orthographique

" Tmux
Plug 'xaviershay/tslime.vim' " send text to tmux
Plug 'christoomey/vim-tmux-navigator' " Allow pane movement to jump out of vim into tmux

" En test
Plug 'reedes/vim-pencil' "vim for writers (TooglePencil) : line wrap, undo/redo by sentences, hide markdown formating chars..

" Required:
call plug#end()

" Load all *.vim config files from ./config/ directory
for fpath in split(globpath('~/.vim/config', '*.vim'), '\n')
  exe 'source' fpath
endfor

" ---------- Plugins already tested:
"  vim-pandoc (for markdown) : bad syntax highlighting
"  vim-writeroom (Goyo is better)

